#!/bin/bash
#
#testname:handlebody links
#

echo "Handlebody links up to 6 crossings"
echo "<name>:<ks_A4>:<ks_A5>"

nums=`seq 15`
list6x=`for n in $nums; do echo -n " 6_${n}"; done`
listall="4_1 5_1${list6x}"
prefix="examples/handlebody_knots"

#
# search for two-component links
#
list2c=""
for n in $listall
do
  count=`./contour -q countcc $prefix/hl${n}.knot 2>/dev/null`
  if [ "$count" = "2" ]; then list2c="$list2c $n"; fi
done
list2c=`echo $list2c`

#
# search for three-component links
#
list3c=""
for n in $listall
do
  count=`./contour -q countcc $prefix/hl${n}.knot 2>/dev/null`
  if [ "$count" = "3" ]; then list3c="$list3c $n"; fi
done
list3c=`echo $list3c`

#
# search for four-component links
#
list4c=""
for n in $listall
do
  count=`./contour -q countcc $prefix/hl${n}.knot 2>/dev/null`
  if [ "$count" = "4" ]; then list4c="$list4c $n"; fi
done
list4c=`echo $list4c`

echo -n "Handlebody links with two components:"
for n in $list2c
do
  echo -n " HL${n}"
done
echo ""

res4=`./contour union examples/knots/knot_0_1.knot $prefix/hk0_1.knot | ./contour --out --inner -q ks_A4`
res5=`./contour union examples/knots/knot_0_1.knot $prefix/hk0_1.knot | ./contour --out --inner -q ks_A5`
echo "SPLIT link:$res4:$res5"

for num in $list2c
do
  file="$prefix/hl${num}.knot"
  res4=`./contour -q ks_A4 --out --inner $file`
  res5=`./contour -q ks_A5 --out --inner $file`
  echo "$num:$res4:$res5"
done

res4=`./contour union examples/knots/knot_0_1.knot $prefix/hk4_1.knot | ./contour --out --inner -q ks_A4`
echo "SPLIT link with HK4_1:$res4:---"

echo "WORK IN PROGRESS..."
echo -n "Handlebody links with three components:"
for n in $list3c
do
  echo -n " HL${n}"
done
echo ""

group="A4"

for num in 6_11_fake $list3c
do
  file="$prefix/hl${num}.knot"
  res=`./contour -q ks_$group --out --inner $file`
  echo "$num:$group:$res"
done

echo -n "Handlebody links with four components:"
for n in $list4c
do
  echo -n " HL${n}"
done
echo ""

for num in $list4c
do
  file="$prefix/hl${num}.knot"
  res=`./contour -q ks_$group --out --inner $file`
  echo "$num:$group:$res"
done

